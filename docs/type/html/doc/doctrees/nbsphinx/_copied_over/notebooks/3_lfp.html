<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../../../../../genindex.html" /><link rel="search" title="Search" href="../../../../../search.html" /><link rel="copyright" title="Copyright" href="../../../../../copyright.html" />

    <link rel="shortcut icon" href="../../../../../_static/lorenLabImage.png"/><meta name="generator" content="sphinx-5.2.3, furo 2022.09.29"/>
        <title>LFP - Spyglass 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../../../_static/css/datajoint_header.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../../index.html"><div class="brand">Spyglass 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../../../_static/spyglass.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Spyglass 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">Home page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../tutorials.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/0_intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/1_spikesorting.html">Spike Sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/1D_Clusterless_Decoding.html">Clusterless Decoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/2_curation.html">Curation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/2_curation_lftest.html">Curation LFP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/2D_Clusterless_Decoding.html">Another Clusterless Decoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/3_lfp.html">LFP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/4_position_info.html">Position Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/5_linearization.html">Linearization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../_copied_over/notebooks/docker_mysql_tutorial.html">MySQL Docker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../_autosummary/spyglass.html">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../../_autosummary/spyglass.cli.html">spyglass.cli</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../../_autosummary/spyglass.cli.cli.html">spyglass.cli.cli</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../how_to_contribute.html">How to Contribute</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../../misc.html">Miscellaneous</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../figurl_views.html">Figurl</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../session_groups.html">Session Groups</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../copyright.html">Copyright</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="LFP">
<h1>LFP<a class="headerlink" href="#LFP" title="Permalink to this heading">#</a></h1>
<section id="This-notebook-shows-an-example-where-a-set-of-electrodes-are-selected-from-a-dataset-and-then-LFP-is-extracted-from-those-electrodes-and-then-written-to-a-new-NWB-file">
<h2>This notebook shows an example where a set of electrodes are selected from a dataset and then LFP is extracted from those electrodes and then written to a new NWB file<a class="headerlink" href="#This-notebook-shows-an-example-where-a-set-of-electrodes-are-selected-from-a-dataset-and-then-LFP-is-extracted-from-those-electrodes-and-then-written-to-a-new-NWB-file" title="Permalink to this heading">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pynwb</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="c1">#DataJoint and DataJoint schema</span>
<span class="kn">import</span> <span class="nn">datajoint</span> <span class="k">as</span> <span class="nn">dj</span>

<span class="c1">## We also import a bunch of tables so that we can call them easily</span>
<span class="kn">from</span> <span class="nn">spyglass.common</span> <span class="kn">import</span> <span class="p">(</span><span class="n">RawPosition</span><span class="p">,</span> <span class="n">HeadDir</span><span class="p">,</span> <span class="n">Speed</span><span class="p">,</span> <span class="n">LinPos</span><span class="p">,</span> <span class="n">StateScriptFile</span><span class="p">,</span> <span class="n">VideoFile</span><span class="p">,</span>
                                  <span class="n">DataAcquisitionDevice</span><span class="p">,</span> <span class="n">CameraDevice</span><span class="p">,</span> <span class="n">Probe</span><span class="p">,</span>
                                  <span class="n">DIOEvents</span><span class="p">,</span>
                                  <span class="n">ElectrodeGroup</span><span class="p">,</span> <span class="n">Electrode</span><span class="p">,</span> <span class="n">Raw</span><span class="p">,</span> <span class="n">SampleCount</span><span class="p">,</span>
                                  <span class="n">LFPSelection</span><span class="p">,</span> <span class="n">LFP</span><span class="p">,</span> <span class="n">LFPBandSelection</span><span class="p">,</span> <span class="n">LFPBand</span><span class="p">,</span>
                                  <span class="n">SortGroup</span><span class="p">,</span> <span class="n">SpikeSorting</span><span class="p">,</span> <span class="n">SpikeSorter</span><span class="p">,</span> <span class="n">SpikeSorterParameters</span><span class="p">,</span> <span class="n">SpikeSortingWaveformParameters</span><span class="p">,</span> <span class="n">SpikeSortingParameters</span><span class="p">,</span> <span class="n">SpikeSortingMetrics</span><span class="p">,</span> <span class="n">CuratedSpikeSorting</span><span class="p">,</span>\
                                  <span class="n">FirFilter</span><span class="p">,</span>
                                  <span class="n">IntervalList</span><span class="p">,</span> <span class="n">SortInterval</span><span class="p">,</span>
                                  <span class="n">Lab</span><span class="p">,</span> <span class="n">LabMember</span><span class="p">,</span> <span class="n">LabTeam</span><span class="p">,</span> <span class="n">Institution</span><span class="p">,</span>
                                  <span class="n">BrainRegion</span><span class="p">,</span>
                                  <span class="n">SensorData</span><span class="p">,</span>
                                  <span class="n">Session</span><span class="p">,</span> <span class="n">ExperimenterList</span><span class="p">,</span>
                                  <span class="n">Subject</span><span class="p">,</span>
                                  <span class="n">Task</span><span class="p">,</span> <span class="n">TaskEpoch</span><span class="p">,</span>
                                  <span class="n">Nwbfile</span><span class="p">,</span> <span class="n">AnalysisNwbfile</span><span class="p">,</span> <span class="n">NwbfileKachery</span><span class="p">,</span> <span class="n">AnalysisNwbfileKachery</span><span class="p">,</span>
                                  <span class="n">interval_list_contains</span><span class="p">,</span>
                                  <span class="n">interval_list_contains_ind</span><span class="p">,</span>
                                  <span class="n">interval_list_excludes</span><span class="p">,</span>
                                  <span class="n">interval_list_excludes_ind</span><span class="p">,</span>
                                  <span class="n">interval_list_intersect</span><span class="p">,</span>
                                  <span class="n">get_electrode_indices</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">ResourceWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="Next-we-select-the-NWB-file,-which-corresponds-to-the-dataset-we-want-to-extract-LFP-from">
<h3>Next we select the NWB file, which corresponds to the dataset we want to extract LFP from<a class="headerlink" href="#Next-we-select-the-NWB-file,-which-corresponds-to-the-dataset-we-want-to-extract-LFP-from" title="Permalink to this heading">#</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nwb_file_names</span> <span class="o">=</span> <span class="n">Nwbfile</span><span class="p">()</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;nwb_file_name&#39;</span><span class="p">)</span>
<span class="c1"># take the first one for this demonstration</span>
<span class="n">nwb_file_name</span> <span class="o">=</span> <span class="n">nwb_file_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Create-the-standard-LFP-Filters.-This-only-needs-to-be-done-once.">
<h3>Create the standard LFP Filters. This only needs to be done once.<a class="headerlink" href="#Create-the-standard-LFP-Filters.-This-only-needs-to-be-done-once." title="Permalink to this heading">#</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FirFilter</span><span class="p">()</span><span class="o">.</span><span class="n">create_standard_filters</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Now-we-Select-every-16th-electrode-for-LFP-or,-below,-a-specific-set-of-electrodes.-Choose-one">
<h3>Now we Select every 16th electrode for LFP or, below, a specific set of electrodes. Choose one<a class="headerlink" href="#Now-we-Select-every-16th-electrode-for-LFP-or,-below,-a-specific-set-of-electrodes.-Choose-one" title="Permalink to this heading">#</a></h3>
<p>Note that this will delete the current selection, and all downstream LFP and LFPBand information (if it exists), but only for the current dataset. This is fine to do if you want to generate or regenerate the LFP</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">electrode_ids</span> <span class="o">=</span> <span class="p">(</span><span class="n">Electrode</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s1">&#39;electrode_id&#39;</span><span class="p">)</span>
<span class="n">lfp_electrode_ids</span> <span class="o">=</span> <span class="n">electrode_ids</span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">electrode_ids</span><span class="p">),</span> <span class="mi">128</span><span class="p">)]</span>
<span class="n">LFPSelection</span><span class="p">()</span><span class="o">.</span><span class="n">set_lfp_electrodes</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">,</span> <span class="n">lfp_electrode_ids</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFPSelection</span><span class="p">()</span><span class="o">.</span><span class="n">LFPElectrode</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Or-select-one-electrode-for-LFP">
<h2>Or select one electrode for LFP<a class="headerlink" href="#Or-select-one-electrode-for-LFP" title="Permalink to this heading">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFPSelection</span><span class="p">()</span><span class="o">.</span><span class="n">set_lfp_electrodes</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFPSelection</span><span class="p">()</span><span class="o">.</span><span class="n">LFPElectrode</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span><span class="p">:</span><span class="n">nwb_file_name</span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="Populate-the-LFP-table.-Note-that-this-takes-2-hours-or-so-on-a-laptop-if-you-use-all-electrodes">
<h2>Populate the LFP table. Note that this takes 2 hours or so on a laptop if you use all electrodes<a class="headerlink" href="#Populate-the-LFP-table.-Note-that-this-takes-2-hours-or-so-on-a-laptop-if-you-use-all-electrodes" title="Permalink to this heading">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFP</span><span class="p">()</span><span class="o">.</span><span class="n">populate</span><span class="p">([</span><span class="n">LFPSelection</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span><span class="p">:</span><span class="n">nwb_file_name</span><span class="p">}])</span>
</pre></div>
</div>
</div>
</section>
<section id="Now-that-we’ve-created-the-LFP-object-we-can-perform-a-second-level-of-filtering-for-a-band-of-interest,-in-this-case-the-theta-band">
<h2>Now that we’ve created the LFP object we can perform a second level of filtering for a band of interest, in this case the theta band<a class="headerlink" href="#Now-that-we’ve-created-the-LFP-object-we-can-perform-a-second-level-of-filtering-for-a-band-of-interest,-in-this-case-the-theta-band" title="Permalink to this heading">#</a></h2>
<p>We first need to create the filter</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lfp_sampling_rate</span> <span class="o">=</span> <span class="p">(</span><span class="n">LFP</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span><span class="o">.</span><span class="n">fetch1</span><span class="p">(</span><span class="s1">&#39;lfp_sampling_rate&#39;</span><span class="p">)</span>
<span class="n">filter_name</span> <span class="o">=</span> <span class="s1">&#39;Theta 5-11 Hz&#39;</span>
<span class="n">FirFilter</span><span class="p">()</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="n">filter_name</span><span class="p">,</span> <span class="n">lfp_sampling_rate</span><span class="p">,</span> <span class="s1">&#39;bandpass&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;theta filter for 1 Khz data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FirFilter</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Next we add an entry for the LFP Band and the electrodes we want to filter</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># assume that we&#39;ve filtered these electrodes; change this if not</span>
<span class="n">lfp_band_electrode_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># set the interval list name corresponding to the second epoch (a run session)</span>
<span class="n">interval_list_name</span> <span class="o">=</span> <span class="s1">&#39;02_r1&#39;</span>

<span class="c1"># set the reference to -1 to indicate no reference for all channels</span>
<span class="n">ref_elect</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># desired sampling rate</span>
<span class="n">lfp_band_sampling_rate</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFPBandSelection</span><span class="p">()</span><span class="o">.</span><span class="n">set_lfp_band_electrodes</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">,</span> <span class="n">lfp_band_electrode_ids</span><span class="p">,</span> <span class="n">filter_name</span><span class="p">,</span> <span class="n">interval_list_name</span><span class="p">,</span> <span class="n">ref_elect</span><span class="p">,</span> <span class="n">lfp_band_sampling_rate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Check to make sure it worked</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">LFPBandSelection</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">LFPBand</span><span class="p">()</span><span class="o">.</span><span class="n">populate</span><span class="p">(</span><span class="n">LFPBandSelection</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span>
<span class="n">LFPBand</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Now-we-can-plot-the-original-signal,-the-LFP-filtered-trace,-and-the-theta-filtered-trace-together.">
<h2>Now we can plot the original signal, the LFP filtered trace, and the theta filtered trace together.<a class="headerlink" href="#Now-we-can-plot-the-original-signal,-the-LFP-filtered-trace,-and-the-theta-filtered-trace-together." title="Permalink to this heading">#</a></h2>
<p>Much of the code below could be replaced by a function calls that would return the data from each electrical series</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#get the three electrical series objects and the indeces of the electrodes we band pass filtered</span>
<span class="n">orig_eseries</span> <span class="o">=</span> <span class="p">(</span><span class="n">Raw</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span><span class="o">.</span><span class="n">fetch_nwb</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;raw&#39;</span><span class="p">]</span>
<span class="n">orig_elect_indeces</span> <span class="o">=</span> <span class="n">get_electrode_indices</span><span class="p">(</span><span class="n">orig_eseries</span><span class="p">,</span> <span class="n">lfp_band_electrode_ids</span><span class="p">)</span>

<span class="n">lfp_eseries</span> <span class="o">=</span> <span class="p">(</span><span class="n">LFP</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span><span class="o">.</span><span class="n">fetch_nwb</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;lfp&#39;</span><span class="p">]</span>
<span class="n">lfp_elect_indeces</span> <span class="o">=</span> <span class="n">get_electrode_indices</span><span class="p">(</span><span class="n">lfp_eseries</span><span class="p">,</span> <span class="n">lfp_band_electrode_ids</span><span class="p">)</span>

<span class="n">lfp_band_eseries</span> <span class="o">=</span> <span class="p">(</span><span class="n">LFPBand</span><span class="p">()</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span> <span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">})</span><span class="o">.</span><span class="n">fetch_nwb</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;filtered_data&#39;</span><span class="p">]</span>
<span class="n">lfp_band_elect_indeces</span> <span class="o">=</span> <span class="n">get_electrode_indices</span><span class="p">(</span><span class="n">lfp_band_eseries</span><span class="p">,</span> <span class="n">lfp_band_electrode_ids</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get a list of times for the first run epoch and then select a 2 second interval 100 seconds from the beginning</span>
<span class="n">run1times</span> <span class="o">=</span> <span class="p">(</span><span class="n">IntervalList</span> <span class="o">&amp;</span> <span class="p">{</span><span class="s1">&#39;nwb_file_name&#39;</span><span class="p">:</span> <span class="n">nwb_file_name</span><span class="p">,</span> <span class="s1">&#39;interval_list_name&#39;</span> <span class="p">:</span> <span class="s1">&#39;02_r1&#39;</span><span class="p">})</span><span class="o">.</span><span class="n">fetch1</span><span class="p">(</span><span class="s1">&#39;valid_times&#39;</span><span class="p">)</span>
<span class="n">plottimes</span> <span class="o">=</span> <span class="p">[</span><span class="n">run1times</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">101</span><span class="p">,</span> <span class="n">run1times</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">102</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the time indeces for each dataset</span>
<span class="n">orig_time_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">orig_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&gt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">orig_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&lt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

<span class="n">lfp_time_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">lfp_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&gt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lfp_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&lt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">lfp_band_time_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">lfp_band_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&gt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lfp_band_eseries</span><span class="o">.</span><span class="n">timestamps</span> <span class="o">&lt;</span> <span class="n">plottimes</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">orig_eseries</span><span class="o">.</span><span class="n">timestamps</span><span class="p">[</span><span class="n">orig_time_ind</span><span class="p">],</span> <span class="n">orig_eseries</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">orig_time_ind</span><span class="p">,</span><span class="n">orig_elect_indeces</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="s1">&#39;k-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lfp_eseries</span><span class="o">.</span><span class="n">timestamps</span><span class="p">[</span><span class="n">lfp_time_ind</span><span class="p">],</span> <span class="n">lfp_eseries</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">lfp_time_ind</span><span class="p">,</span><span class="n">lfp_elect_indeces</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="s1">&#39;b-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">lfp_band_eseries</span><span class="o">.</span><span class="n">timestamps</span><span class="p">[</span><span class="n">lfp_band_time_ind</span><span class="p">],</span> <span class="n">lfp_band_eseries</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">lfp_band_time_ind</span><span class="p">,</span><span class="n">lfp_band_elect_indeces</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="s1">&#39;r-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (sec)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Amplitude (AD units)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                <a href="../../../../../copyright.html">Copyright</a> &#169; 2020 - Present, Loren Frank
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">LFP</a><ul>
<li><a class="reference internal" href="#This-notebook-shows-an-example-where-a-set-of-electrodes-are-selected-from-a-dataset-and-then-LFP-is-extracted-from-those-electrodes-and-then-written-to-a-new-NWB-file">This notebook shows an example where a set of electrodes are selected from a dataset and then LFP is extracted from those electrodes and then written to a new NWB file</a><ul>
<li><a class="reference internal" href="#Next-we-select-the-NWB-file,-which-corresponds-to-the-dataset-we-want-to-extract-LFP-from">Next we select the NWB file, which corresponds to the dataset we want to extract LFP from</a></li>
<li><a class="reference internal" href="#Create-the-standard-LFP-Filters.-This-only-needs-to-be-done-once.">Create the standard LFP Filters. This only needs to be done once.</a></li>
<li><a class="reference internal" href="#Now-we-Select-every-16th-electrode-for-LFP-or,-below,-a-specific-set-of-electrodes.-Choose-one">Now we Select every 16th electrode for LFP or, below, a specific set of electrodes. Choose one</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Or-select-one-electrode-for-LFP">Or select one electrode for LFP</a></li>
<li><a class="reference internal" href="#Populate-the-LFP-table.-Note-that-this-takes-2-hours-or-so-on-a-laptop-if-you-use-all-electrodes">Populate the LFP table. Note that this takes 2 hours or so on a laptop if you use all electrodes</a></li>
<li><a class="reference internal" href="#Now-that-we’ve-created-the-LFP-object-we-can-perform-a-second-level-of-filtering-for-a-band-of-interest,-in-this-case-the-theta-band">Now that we’ve created the LFP object we can perform a second level of filtering for a band of interest, in this case the theta band</a></li>
<li><a class="reference internal" href="#Now-we-can-plot-the-original-signal,-the-LFP-filtered-trace,-and-the-theta-filtered-trace-together.">Now we can plot the original signal, the LFP filtered trace, and the theta filtered trace together.</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../../_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../../../_static/js/text-adjustments.js"></script>
    </body>
</html>